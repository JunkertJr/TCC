package aula20170731.threads;

import java.io.BufferedInputStream;
import java.io.BufferedOutputStream;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.util.zip.GZIPOutputStream;

public class App {
	
	public static void main(String[] args) throws IOException {
		
		
		long inicio = System.currentTimeMillis();
		
		File diretorioArquivos = new File("d:/arquivos");
		File[] arquivos = diretorioArquivos.listFiles();		
		for (File file : arquivos) {
			//System.out.println(file.getCanonicalPath());
			
			InputStream input = new FileInputStream(file);
			input = new BufferedInputStream(input);
			
			OutputStream output = new FileOutputStream(file.getCanonicalPath() + ".gzip");
			output = new GZIPOutputStream(output);
			output = new BufferedOutputStream(output);
			
			int dado = 0;
			while ((dado = input.read()) != -1) {
				output.write(dado);
			}
			output.close();
			input.close();
		}
		System.out.println("Tempo total: " + (System.currentTimeMillis()-inicio));
		
		
		
		
		
//		int quantidade = 0;
//		
//		
//		Contador c01 = new Contador(1,1000);
//		//c01.setPriority(Thread.MAX_PRIORITY);
//		Contador c02 = new Contador(1001,2000);
//		//c02.setPriority(Thread.MIN_PRIORITY);
//		
//		
//		c01.start();
//		c02.start();
		
		
		
		
		System.out.println("Fim.");
		
		
		
		
		
	}

}
